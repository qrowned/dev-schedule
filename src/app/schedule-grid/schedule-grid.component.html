<div
  *ngIf="
    stages().length > 0 &&
    day &&
    getFilteredStages(stageFilter) as filteredStages
  "
  class="scroll-container tab__content table-outline"
>
  <div *ngIf="dataService.mobileView">
    <nx-formfield
      label="Filter stages"
      appearance="outline"
      floatLabel="always"
    >
      <nx-dropdown [(ngModel)]="stageFilter">
        <nx-dropdown-item>ALL</nx-dropdown-item>
        <nx-dropdown-item
          *ngFor="let stage of stages()"
          [value]="stage.name"
        ></nx-dropdown-item>
      </nx-dropdown>
    </nx-formfield>
  </div>
  <app-main-stage />
  <div class="timetable-grid">
    <div nxRow *ngIf="!dataService.mobileView">
      <div nxCol="1"></div>
      <ng-container *ngFor="let stage of filteredStages">
        <div nxCol="2" class="stage-heading center">{{ stage.name }}</div>
      </ng-container>
    </div>
    <!-- component -->
    <app-common-stages [day]="day" [filteredStages]="filteredStages" />
  </div>
  <app-main-stage />
</div>
